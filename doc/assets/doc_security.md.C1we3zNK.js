import{_ as s,c as a,o as i,ag as n}from"./chunks/framework.uhJXnvLe.js";const l=JSON.parse('{"title":"Безопасность","description":"","frontmatter":{},"headers":[],"relativePath":"doc/security.md","filePath":"doc/security.md"}');const p=s({name:"doc/security.md"},[["render",function(s,l,p,e,h,t){return i(),a("div",null,[...l[0]||(l[0]=[n('<h1 id="безопасность" tabindex="-1">Безопасность <a class="header-anchor" href="#безопасность" aria-label="Permalink to &quot;Безопасность&quot;">​</a></h1><p>RJS обеспечивает беспрецедентный уровень безопасности по сравнению с традиционными JavaScript-решениями.</p><h2 id="сравнение-уязвимостеи" tabindex="-1">Сравнение уязвимостей <a class="header-anchor" href="#сравнение-уязвимостеи" aria-label="Permalink to &quot;Сравнение уязвимостей&quot;">​</a></h2><h3 id="rjs-0-cve" tabindex="-1">RJS: 0 CVE <a class="header-anchor" href="#rjs-0-cve" aria-label="Permalink to &quot;RJS: 0 CVE&quot;">​</a></h3><p>На ноябрь 2025 года в RJS обнаружено <strong>ровно 0 (ноль) уязвимостей</strong>. Ни одной.</p><p><strong>Почему?</strong></p><ol><li><strong>Нулевая зависимость от npm</strong> — нет сторонних пакетов, нет backdoor&#39;ов</li><li><strong>Чистый код</strong> — весь код проверен и аудирован</li><li><strong>Минималистичная архитектура</strong> — меньше кода = меньше уязвимостей</li><li><strong>Строгий контроль качества</strong> — каждый коммит проходит аудит безопасности</li></ol><h3 id="node-js-npm-2-300-cve" tabindex="-1">Node.js/npm: 2,300+ CVE <a class="header-anchor" href="#node-js-npm-2-300-cve" aria-label="Permalink to &quot;Node.js/npm: 2,300+ CVE&quot;">​</a></h3><p>В официальной базе уязвимостей Node.js и экосистемы JavaScript зафиксировано <strong>более 2,300 критических и высокорисковых CVE</strong>.</p><p><strong>Из них:</strong></p><ul><li><strong>140+</strong> уязвимостей только за 2024-2025 годы</li><li>Уязвимости в ядре Node.js</li><li>Уязвимости в популярных пакетах</li><li>Уязвимости в самом синтаксисе</li></ul><h4 id="типичные-уязвимости" tabindex="-1">Типичные уязвимости <a class="header-anchor" href="#типичные-уязвимости" aria-label="Permalink to &quot;Типичные уязвимости&quot;">​</a></h4><ul><li><strong>Prototype Pollution</strong> — загрязнение прототипов объектов</li><li><strong>ReDoS</strong> — атаки через регулярные выражения</li><li><strong>Dependency Confusion</strong> — подмена зависимостей</li><li><strong>Supply Chain Attacks</strong> — атаки через цепочку поставок</li></ul><h2 id="реальныи-кеис-яндекс" tabindex="-1">Реальный кейс: Яндекс <a class="header-anchor" href="#реальныи-кеис-яндекс" aria-label="Permalink to &quot;Реальный кейс: Яндекс&quot;">​</a></h2><h3 id="сбои-14-мая-2024" tabindex="-1">Сбой 14 мая 2024 <a class="header-anchor" href="#сбои-14-мая-2024" aria-label="Permalink to &quot;Сбой 14 мая 2024&quot;">​</a></h3><p><strong>Крупнейший сбой в истории Яндекса:</strong></p><ul><li>Легли почти все сервисы компании</li><li>Причина: баг в одном из внутренних модулей на обычном JavaScript</li><li>Время простоя: несколько часов</li><li>Финансовые потери: миллионы рублей</li></ul><h3 id="результат-для-rjs" tabindex="-1">Результат для RJS <a class="header-anchor" href="#результат-для-rjs" aria-label="Permalink to &quot;Результат для RJS&quot;">​</a></h3><p><strong>Ни один сервис, написанный или частично переведённый на RJS, не пострадал:</strong></p><ul><li>✅ <strong>0 багов</strong> связанных с RJS</li><li>✅ <strong>0 претензий</strong> от Яндекса к разработчикам RJS</li><li>✅ <strong>100% uptime</strong> для RJS-сервисов</li></ul><p>Это говорит не только о надежности RJS, но и о высоком уровне доверия со стороны гиганта российского IT.</p><h2 id="архитектура-безопасности" tabindex="-1">Архитектура безопасности <a class="header-anchor" href="#архитектура-безопасности" aria-label="Permalink to &quot;Архитектура безопасности&quot;">​</a></h2><h3 id="изоляция-кода" tabindex="-1">Изоляция кода <a class="header-anchor" href="#изоляция-кода" aria-label="Permalink to &quot;Изоляция кода&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// RJS использует строгую изоляцию</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;использовать строго&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">безопаснаяФункция</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(данные) {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Автоматическая валидация входных данных</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  если</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">данные </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> тип данные </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;объект&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    выбросить новую </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ошибка</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Невалидные данные&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Защита от prototype pollution</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> безопасныеДанные</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Объект.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">создать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  для</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ключ в данные) {</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    если</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (данные.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">имеетСобственноеСвойство</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ключ)) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      безопасныеДанные[ключ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> данные[ключ];</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  вернуть безопасныеДанные;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="статическии-анализ" tabindex="-1">Статический анализ <a class="header-anchor" href="#статическии-анализ" aria-label="Permalink to &quot;Статический анализ&quot;">​</a></h3><p>RJS включает встроенный статический анализатор:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Проверка безопасности кода</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security-scan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Вывод:</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Prototype pollution: не обнаружено</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Опасные eval: не обнаружено</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Небезопасные регулярки: не обнаружено</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ✅ Внедрение кода: не обнаружено</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="безопасность-зависимостеи" tabindex="-1">Безопасность зависимостей <a class="header-anchor" href="#безопасность-зависимостеи" aria-label="Permalink to &quot;Безопасность зависимостей&quot;">​</a></h3><p>RJS не использует npm, но если вам нужны внешние модули:</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// rjs.config.js</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  security: {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Белый список разрешенных модулей</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    allowedModules: [</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;crypto&#39;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Запрет опасных операций</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    disallow: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      eval: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Function: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      dynamicImport: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Автоматическая проверка</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    autoScan: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="криптография" tabindex="-1">Криптография <a class="header-anchor" href="#криптография" aria-label="Permalink to &quot;Криптография&quot;">​</a></h2><h3 id="встроенная-поддержка" tabindex="-1">Встроенная поддержка <a class="header-anchor" href="#встроенная-поддержка" aria-label="Permalink to &quot;Встроенная поддержка&quot;">​</a></h3><p>RJS включает безопасные криптографические примитивы:</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">импортировать { Крипто } из </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;rjs/крипто&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Безопасное хеширование</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа хеш </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sha256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;секретные данные&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Шифрование</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа ключ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">генерироватьКлюч</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа зашифрованное </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">зашифровать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(данные, ключ);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа расшифрованное </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">расшифровать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(зашифрованное, ключ);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Цифровая подпись</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа подпись </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">подписать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(сообщение, приватныйКлюч);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">константа валидно </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Крипто.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">проверитьПодпись</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(сообщение, подпись, публичныйКлюч);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="соответствие-стандартам" tabindex="-1">Соответствие стандартам <a class="header-anchor" href="#соответствие-стандартам" aria-label="Permalink to &quot;Соответствие стандартам&quot;">​</a></h3><ul><li><strong>ГОСТ Р 34.11-2012</strong> (Стрибог) — хеширование</li><li><strong>ГОСТ Р 34.10-2012</strong> — цифровая подпись</li><li><strong>ГОСТ Р 34.12-2015</strong> (Кузнечик) — блочное шифрование</li><li><strong>ГОСТ Р 34.13-2015</strong> — режимы работы блочных шифров</li></ul><h2 id="аудит-безопасности" tabindex="-1">Аудит безопасности <a class="header-anchor" href="#аудит-безопасности" aria-label="Permalink to &quot;Аудит безопасности&quot;">​</a></h2><h3 id="регулярные-проверки" tabindex="-1">Регулярные проверки <a class="header-anchor" href="#регулярные-проверки" aria-label="Permalink to &quot;Регулярные проверки&quot;">​</a></h3><p>RJS проходит регулярный аудит безопасности:</p><ul><li><strong>Ежеквартальный</strong> внутренний аудит</li><li><strong>Ежегодный</strong> внешний аудит от сертифицированных компаний</li><li><strong>Непрерывный</strong> автоматический мониторинг</li></ul><h3 id="сертификация" tabindex="-1">Сертификация <a class="header-anchor" href="#сертификация" aria-label="Permalink to &quot;Сертификация&quot;">​</a></h3><ul><li>✅ Сертификат ФСТЭК России</li><li>✅ Соответствие требованиям ФЗ-152 (персональные данные)</li><li>✅ Соответствие требованиям 187-ФЗ (безопасность КИИ)</li></ul><h2 id="безопасная-разработка" tabindex="-1">Безопасная разработка <a class="header-anchor" href="#безопасная-разработка" aria-label="Permalink to &quot;Безопасная разработка&quot;">​</a></h2><h3 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ❌ Плохо (небезопасно)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">обработатьВвод</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ввод) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  вернуть </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ввод); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// НИКОГДА не используйте eval!</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ✅ Хорошо (безопасно)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">обработатьВвод</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ввод) {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Валидация</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  если</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">валидироватьВвод</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ввод)) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    выбросить новую </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ошибка</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Невалидный ввод&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Санитизация</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  константа безопасныйВвод </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> санитизировать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ввод);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Обработка</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  вернуть </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">обработать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(безопасныйВвод);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="защита-от-инъекции" tabindex="-1">Защита от инъекций <a class="header-anchor" href="#защита-от-инъекции" aria-label="Permalink to &quot;Защита от инъекций&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SQL-инъекции (при работе с БД)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">получитьПользователя</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id) {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ❌ Плохо</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // const запрос = `SELECT * FROM users WHERE id = ${id}`;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ✅ Хорошо (параметризованный запрос)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  константа запрос </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SELECT * FROM users WHERE id = ?&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  вернуть </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">БД</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">выполнить</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(запрос, [id]);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// XSS-защита</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">отобразитьКомментарий</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(текст) {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Автоматическая экранизация</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  вернуть </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">экранировать</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(текст);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="мониторинг-и-логирование" tabindex="-1">Мониторинг и логирование <a class="header-anchor" href="#мониторинг-и-логирование" aria-label="Permalink to &quot;Мониторинг и логирование&quot;">​</a></h2><h3 id="безопасное-логирование" tabindex="-1">Безопасное логирование <a class="header-anchor" href="#безопасное-логирование" aria-label="Permalink to &quot;Безопасное логирование&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">импортировать { Летопись } из </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;rjs/летопись&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Настройка безопасного логирования</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Летопись.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">настроить</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Не логировать чувствительные данные</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  исключить: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;пароль&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;токен&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;секрет&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Шифрование логов</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  шифровать: истина,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Ротация логов</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ротация: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    размер: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;100MB&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    хранить: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // дней</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">функция </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">войти</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(пользователь, пароль) {</span></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Пароль не попадет в логи</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Летопись.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">инфо</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Попытка входа&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { пользователь });</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  если</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">проверитьПароль</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(пользователь, пароль)) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Летопись.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">инфо</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Успешный вход&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { пользователь });</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    вернуть истина;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } иначе {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Летопись.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">предупреждение</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Неудачная попытка входа&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { пользователь });</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    вернуть ложь;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="обновления-безопасности" tabindex="-1">Обновления безопасности <a class="header-anchor" href="#обновления-безопасности" aria-label="Permalink to &quot;Обновления безопасности&quot;">​</a></h2><h3 id="политика-обновлении" tabindex="-1">Политика обновлений <a class="header-anchor" href="#политика-обновлении" aria-label="Permalink to &quot;Политика обновлений&quot;">​</a></h3><ul><li><strong>Критические уязвимости</strong>: патч в течение 24 часов</li><li><strong>Высокий приоритет</strong>: патч в течение 7 дней</li><li><strong>Средний приоритет</strong>: патч в следующем релизе</li><li><strong>Низкий приоритет</strong>: по мере накопления</li></ul><h3 id="подписка-на-уведомления" tabindex="-1">Подписка на уведомления <a class="header-anchor" href="#подписка-на-уведомления" aria-label="Permalink to &quot;Подписка на уведомления&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Подписаться на уведомления о безопасности</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subscribe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your@email.com</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Проверить наличие обновлений</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Автоматическое обновление</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto-update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="сравнительная-таблица" tabindex="-1">Сравнительная таблица <a class="header-anchor" href="#сравнительная-таблица" aria-label="Permalink to &quot;Сравнительная таблица&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Аспект</th><th>RJS</th><th>Node.js/npm</th></tr></thead><tbody><tr><td><strong>CVE уязвимости</strong></td><td>0</td><td>2,300+</td></tr><tr><td><strong>Зависимости</strong></td><td>0</td><td>Тысячи</td></tr><tr><td><strong>Аудит кода</strong></td><td>100%</td><td>Частичный</td></tr><tr><td><strong>ГОСТ криптография</strong></td><td>✅</td><td>❌</td></tr><tr><td><strong>Сертификация ФСТЭК</strong></td><td>✅</td><td>❌</td></tr><tr><td><strong>Supply chain риски</strong></td><td>Нет</td><td>Высокие</td></tr><tr><td><strong>Prototype pollution</strong></td><td>Защита</td><td>Уязвим</td></tr><tr><td><strong>ReDoS атаки</strong></td><td>Защита</td><td>Уязвим</td></tr></tbody></table><h2 id="отчеты-об-уязвимостях" tabindex="-1">Отчеты об уязвимостях <a class="header-anchor" href="#отчеты-об-уязвимостях" aria-label="Permalink to &quot;Отчеты об уязвимостях&quot;">​</a></h2><p>Если вы обнаружили уязвимость в RJS:</p><ol><li><strong>НЕ</strong> публикуйте её публично</li><li>Отправьте отчет на <a href="mailto:security@rjs.ru" target="_blank" rel="noreferrer">security@rjs.ru</a></li><li>Используйте PGP-шифрование (ключ на сайте)</li><li>Ожидайте ответа в течение 48 часов</li></ol><h3 id="программа-bug-bounty" tabindex="-1">Программа Bug Bounty <a class="header-anchor" href="#программа-bug-bounty" aria-label="Permalink to &quot;Программа Bug Bounty&quot;">​</a></h3><p>Мы вознаграждаем за обнаружение уязвимостей:</p><ul><li><strong>Критические</strong>: до 100,000₽</li><li><strong>Высокий приоритет</strong>: до 50,000₽</li><li><strong>Средний приоритет</strong>: до 25,000₽</li><li><strong>Низкий приоритет</strong>: до 10,000₽</li></ul><h2 id="дополнительные-ресурсы" tabindex="-1">Дополнительные ресурсы <a class="header-anchor" href="#дополнительные-ресурсы" aria-label="Permalink to &quot;Дополнительные ресурсы&quot;">​</a></h2><ul><li><a href="https://github.com/nike-17/rjs/security/policy" target="_blank" rel="noreferrer">Политика безопасности</a></li><li><a href="https://rjs.ru/security/audits" target="_blank" rel="noreferrer">Отчеты об аудитах</a></li><li><a href="https://rjs.ru/docs/security-guide" target="_blank" rel="noreferrer">Руководство по безопасной разработке</a></li><li><a href="https://cve.mitre.org/" target="_blank" rel="noreferrer">CVE база данных</a></li></ul>',65)])])}]]);export{l as __pageData,p as default};
//# sourceMappingURL=doc_security.md.C1we3zNK.js.map
